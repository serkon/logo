<input
  #dateRef
  (change)="onDateChangeHandler($event)"
  [(ngModel)]="value"
  [disabled]="disabled"
  [maskType]="'date'"
  [placeholder]="placeholder"
  [regexp]="regexp"
  masker
/>

<span class="input-line"></span>
<div #calendar [hidden]="hidden" class="calendar">
  <div class="row month">
    <button (click)="setPrevMonth()" class="split-xs-7">&lt; {{"calendar_previous"}}</button>
    <div class="flex-1 date-string">{{meta.month.name}} {{this.meta.year}}</div>
    <button (click)="setNextMonth()" class="split-xs-7">{{"calendar_next"}} &gt;</button>
  </div>
  <div class="row day-names">
    <div *ngFor="let dayName of meta.weekdays" class="split-xs-7 name">{{dayName}}</div>
  </div>
  <div class="row days">
    <button
      (click)="onDayClick(before-1, meta.previousMonth)"
      *ngFor="let before of meta.firstEmptyDays"
      [disabled]="checkDisable(before-1, meta.previousMonth)"
      [ngClass]="setClass(before-1, meta.previousMonth)"
      class="split-xs-7 previous"
    >
      {{before}}
    </button>
    <button
      (click)="onDayClick(day, meta.currentMonth)"
      *ngFor="let day of meta.days"
      [disabled]="checkDisable(day, meta.currentMonth)"
      [ngClass]="setClass(day, meta.currentMonth)"
      class="split-xs-7"
    >
      {{day + 1}}
    </button>
    <button
      (click)="onDayClick(end-1, meta.nextMonth)"
      *ngFor="let end of meta.lastEmptyDays"
      [disabled]="checkDisable(end-1, meta.nextMonth)"
      [ngClass]="setClass(end-1, meta.nextMonth)"
      class="split-xs-7 next"
    >
      {{end}}
    </button>
  </div>
  <div class="row time">
    <input
      #timeRef
      (change)="onTimeChangeHandler($event)"
      [(ngModel)]="timeValue"
      [hidden]="!time"
      [placeholder]="'HH:mm'"
      [regexp]="regexp"
      class="flex-1"
      masker
    />
    <div class="flex-2 date-diff">{{diff}}</div>
    <button (click)="goToToday()" class="split-xs-7">{{"today"}}</button>
    <button (click)="goToSelected()" class="split-xs-7">{{"selected"}}</button>
  </div>
</div>
