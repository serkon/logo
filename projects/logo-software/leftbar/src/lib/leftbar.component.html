<!--
/**
 * @license
 * Copyright LOGO YAZILIM SANAYİ VE TİCARET A.Ş. All Rights Reserved.
 *
 * Save to the extent permitted by law, you may not use, copy, modify,
 * distribute or create derivative works of this material or any part
 * of it without the prior written consent of LOGO YAZILIM SANAYİ VE TİCARET A.Ş. Limited.
 * Any reproduction of this material must contain this notice.
 */
-->

<div *ngIf="leftbarService.userInfo != null" class="le-leftbar">
  <div class="info-card">
    <div class="user-base">
      <div class="item">
        <a (click)="$event"></a>
        <span class="avatar-base">
          <span class="avatar">
            <img src="{{leftbarService.userInfo.user.avatar}}">
          </span>
        </span>
        <span *ngIf="leftbarService.userInfo.user.notifications" class="badge danger">
          {{leftbarService.userInfo!.user.notifications}}
        </span>
        <div class="details">
          <h6>{{leftbarService.userInfo.user.name}}</h6>
          <p class="small">{{leftbarService.userInfo.user.title}}</p>
        </div>
      </div>
      <div class="expandable-content">
        <div class="row infos">
          <div
            *ngFor="let item of leftbarService.userInfo.user.infos"
            class="col-md-{{item.col}} {{item.reference}} item"
          >
            <a (click)="item.action" routerLink="{{item.link}}"></a>
            <span *ngIf="item.title" class="title">
              {{item.title}}
              <span *ngIf="item.badge" class="badge danger">{{item.count}}</span>
            </span>
            <span *ngIf="item.icon" class="title icon {{item.icon}}"></span>
            <p *ngIf="item.desc; else countTemp" class="small">{{item.desc}}</p>
            <ng-template #countTemp>{{item.count}}</ng-template>
          </div>
        </div>
        <div *ngFor="let option of leftbarService.userInfo.user.links" class="item">
          <a
            [ngClass]="option.name ==='Çıkış yap'?'danger':''"
            class="ghost large"
            routerLink="{{option.link}}"
          >
            {{option.name}}
          </a>
        </div>
      </div>
    </div>
    <div class="tanent-base">
      <span class="le-login_key item"></span>
      <span class="item">
        <button (click)="showPopover('tanentOptions');" class="ghost small icon-right le-arrow_down">
          {{leftbarService.userInfo.user.tanents.default}}
        </button>
        <div class="popover" id="tanentOptions">
          <span class="triangle"></span>
          <span class="list">
            <button
              (click)="selectTanentEmitter(tanent.id)"
              *ngFor="let tanent of leftbarService.userInfo.user.tanents.options"
              class="ghost large"
            >
              {{tanent.name}}
            </button>
          </span>
        </div>
      </span>
    </div>
    <div class="search-base">
      <span class="input-w-icon">
        <span class="le-search"></span>
        <input class="icon-left" placeholder="Placeholder">
      </span>
    </div>
    <div class="shortcuts-base">
      <div class="standarts">
        <div class="home item">
          <button (click)="homeEmitter()" class="ghost le-home"></button>
        </div>
        <div class="apps item">
          <button (click)="showPopover('appOptions');" class="ghost small icon-right le-arrow_down">
            <img src="{{leftbarService.userInfo.user.applications.default}}"/>
          </button>
          <div class="popover" id="appOptions">
            <span class="triangle"></span>
            <span class="list">
              <button
                (click)="selectAppEmitter(app.id)"
                *ngFor="let app of leftbarService.userInfo.user.applications.options"
                class="ghost large"
              >
                <img src="{{app.logo}}"/>
              </button>
            </span>
          </div>
        </div>
      </div>
      <div class="custom-shortcuts">
        <ng-container *ngIf="leftbarService.userInfo.user.shortcuts.length > 0">
          <button
            *ngFor="let shortcut of leftbarService.userInfo.user.shortcuts"
            class="{{shortcut.class}}"
          >
            <img src="{{shortcut.icon}}"/>
          </button>
        </ng-container>
        <ng-container *ngIf="this.emptyShortcutSlots.length > 0">
          <button
            (click)="addShortcutEmitter()"
            *ngFor="let addItem of emptyShortcutSlots"
            class="primary outline le-add"
          >
          </button>
        </ng-container>
        <button (click)="shortcutSettingsEmitter()" class="ghost le-settings"></button>
      </div>
    </div>
  </div>
  <div class="menu-base">
    <ng-content></ng-content>
  </div>
</div>
