// $form-status: primary secondary success info warning danger light dark gray;
$form-state: hover active focus;
$form-type: fill outline ghost;
$dark-ratio: 900;

#{config(selector)} {
  @each $status, $hex-value in $list-colors {
    .#{"" + $status} {
      @each $type in $form-type {
        @if $type != outline and $type != ghost {
          &::before {
            // background-color: if($status == light, var(--dark-#{$dark-ratio}), if($status == secondary, darken(color(#{secondary}-600), 30%), var(--white)));
          }
          border: size(1px) solid var(--#{$status}-500);
          background-color: var(--#{$status}-500);
          // color: if($status == light, var(--secondary-#{$dark-ratio}), if($status == secondary, var(--secondary-100), var(--white)));
          color: if($status == light, var(--dark-#{$dark-ratio}), if($status == secondary, darken(color(#{secondary}-600), 30%), var(--white)));
          @each $state in $form-state {
            &:#{$state}, &-#{$state} {
              &:not([disabled]) {
                background-color: var(--#{$status}-#{$state});
                border-color: var(--#{$status}-600);
              }

              // border-color: var(--#{$status}-#{$state});
              @if $state == focus {
                @include nb-outline(size(8px), rgba(var(--gray-600-rgb), color(ghost-hover)));
              }
            }
          }
        } @else {
          &.#{$type} {
            background-color: transparent;
            // form type
            @if $type == ghost {
              border: size(1px) solid transparent;
            } @else if $type == outline {
              border: size(1px) solid if($status == light, var(--light-600), if($status== secondary, var(--secondary-600), if($status == dark, var(--white), var(--#{$status}-500))));
            }
            // color name
            @if ($status == secondary) {
              color: darken(color(#{secondary}-600), 30%);
              &::before {
                // background-color: darken(color(#{secondary}-600), 30%);
              }
            } @else if ($status == gray) {
              color: var(--#{$status}-#{$dark-ratio});
              &::before {
                // background-color: var(--#{$status}-#{$dark-ratio});
              }
            } @else if ($status == light) {
              color: var(--dark-#{$dark-ratio});
              &::before {
                // background-color: var(--dark-#{$dark-ratio});
              }
            } @else if ($status == dark) {
              color: var(--white);
              &::before {
                // background-color: var(--white);
              }
            } @else {
              color: var(--#{$status});
              &::before {
                // background-color: var(--#{$status});
              }
            }
            @each $state in $form-state {
              &:#{$state}, &-#{$state} {

                &:not([disabled]) {
                  @if $type == ghost {
                    border: size(1px) solid transparent;
                  }
                  @if ($status == secondary) {
                    background-color: rgba(var(--#{$status}-#{$state}-rgb), (color(ghost-#{$state}) + 0.2));
                  } @else if ($status == light) {
                    background-color: var(--light-#{$state});
                  } @else {
                    background-color: rgba(var(--#{$status}-#{$state}-rgb), var(--ghost-#{$state}));
                  }
                }
              }
            }
          }
        }
      }

      @include animate();
      outline: none;

      &.shadow {
        box-shadow: 0 size(7px) size(10px) size(-4px) var(--#{$status});
      }

      &.selected {
        background-color: var(--#{$status}-focus);
      }

      &:disabled {
        opacity: $disabled;
      }
    }

    @each $name, $ratio in config(color-shades) {
      $tempColor: if($name >= 500, shade($hex-value, $ratio), tint($hex-value, $ratio));
      .#{"" + $status}-#{$name} {
        background-color: $tempColor;
        border-color: $tempColor;

        $temp-class-names: '';
        @each $state in $form-state {
          $temp-class-names: $temp-class-names + "&" + ":" + $state + ",";
        }

        #{$temp-class-names} {
          border-color: $tempColor;
        }
      }
    }
  }
}
