<div
  (click)="openListDiv()"
  [innerHTML]="selectedHTML()"
  [ngClass]="{'open': display}"
  class="selected large logo-i-selection-dropdown icon-right"
>
</div>
<div *ngIf="display" class="dropdown">
  <input
    #inputRef
    (input)="debounce(inputRef)"
    (keydown.arrowDown)="arrowDown()"
    (keydown.arrowUp)="arrowUp()"
    (keydown.enter)="this.selected = this.hover"
    [(ngModel)]="search"
    class="large outline light"
  />
  <ul #itemRef class="items">
    <li
      (click)="setSelectedItem(item, i)"
      *ngFor="let item of filtered; let i=index; let isLast=last; let isFirst=first; let isOdd=odd;"
      [ngClass]="{'hover': i === hover, 'selected': item===selectedItem}"
      class="item large"
    >
      <ng-container
        [ngTemplateOutletContext]="{item: item, index: i, isLast: isLast, isFirst: isFirst, isOdd: isOdd}"
        [ngTemplateOutlet]="templateRef ? templateRef: native"
      >
      </ng-container>
      <ng-template #native>{{optionHTML(item, i)}}</ng-template>
    </li>
  </ul>
</div>

